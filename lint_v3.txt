
> qpr@0.0.0 lint
> eslint .


C:\Users\abira\OneDrive\Desktop\qpr\src\App.jsx
  112:34  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  110 |   // Clean bubbles on exit
  111 |   useEffect(() => {
> 112 |     if (playerLastSaid !== null) setPlayerLastSaid(null);
      |                                  ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  113 |     if (npcLastSaid !== null) setNpcLastSaid(null);
  114 |   }, [gameState, currentNodeId, playerLastSaid, npcLastSaid]);
  115 |                                                                                                                                                                                                          react-hooks/set-state-in-effect
  187:48  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  185 |   // Camera Logic
  186 |   useEffect(() => {
> 187 |     if (isWalletOpen && camera.scale !== 1.15) setCamera({ scale: 1.15, x: -25, y: -5 });
      |                                                ^^^^^^^^^ Avoid calling setState() directly within an effect
  188 |     else if (!isWalletOpen && gameState === 'DIALOGUE' && camera.scale !== 1.15) setCamera({ scale: 1.15, x: -10, y: -5 });
  189 |     else if (!isWalletOpen && gameState === 'APPROACH' && camera.scale !== 1) setCamera({ scale: 1, x: 0, y: 0 });
  190 |   }, [gameState, isWalletOpen, camera.scale]);  react-hooks/set-state-in-effect
  196:37  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  194 |   // NPC Behavior Pacing
  195 |   useEffect(() => {
> 196 |     if (gameState !== 'APPROACH') { setNpcAction('idle'); return; }
      |                                     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  197 |     const interval = setInterval(() => {
  198 |       if (Math.abs(playerPos.x - samPos.x) < 20) return;
  199 |       const actions = ['idle', 'phone', 'pacing', 'sitting'];                                                                                                                                                       react-hooks/set-state-in-effect
  205:9   warning  The 'handleInvestigate' function makes the dependencies of useEffect Hook (at line 232) change on every render. To fix this, wrap the definition of 'handleInvestigate' in its own useCallback() Hook                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 react-hooks/exhaustive-deps
  236:54  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  234 |   // Movement Engine (Loop)
  235 |   useEffect(() => {
> 236 |     if (gameState !== 'APPROACH' || moveDir === 0) { setIsWalking(false); return; }
      |                                                      ^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  237 |     setIsWalking(true);
  238 |     const interval = setInterval(() => {
  239 |       setPlayerPos(p => {                                                                                                                                                                                        react-hooks/set-state-in-effect
  330:7   error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  328 |       const npcVoice = selectedLevel.npc.voice;
  329 |
> 330 |       setIsNpcSpeaking(true);
      |       ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  331 |       setNpcLastSaid(text);
  332 |
  333 |       const timer = setTimeout(() => {                                                                                                                                                                                                                                                                                                                 react-hooks/set-state-in-effect
  349:6   warning  React Hook useEffect has missing dependencies: 'currentNode', 'selectedLevel.npc.gender', and 'selectedLevel.npc.voice'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           react-hooks/exhaustive-deps
  354:7   error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  352 |   useEffect(() => {
  353 |     if (gameState === 'DIALOGUE' && !isNpcSpeaking && !playerLastSaid && currentNode?.required_resource) {
> 354 |       setIsWalletOpen(true);
      |       ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  355 |     } else if (isNpcSpeaking || playerLastSaid || !currentNode?.required_resource) {
  356 |       setIsWalletOpen(false);
  357 |     }                                                                                                                                                                              react-hooks/set-state-in-effect

C:\Users\abira\OneDrive\Desktop\qpr\src\components\DialogueBox.jsx
  5:11  warning  The 'options' logical expression could make the dependencies of useEffect Hook (at line 25) change on every render. To fix this, wrap the initialization of 'options' in its own useMemo() Hook  react-hooks/exhaustive-deps

C:\Users\abira\OneDrive\Desktop\qpr\src\components\HeartbeatMonitor.jsx
  25:8  warning  React Hook useEffect has a missing dependency: 'intervalMs'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

C:\Users\abira\OneDrive\Desktop\qpr\src\components\Scenery.jsx
    1:17  error  'useMemo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        no-unused-vars
  173:18  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  171 |                 </div>
  172 |
> 173 |                 <LowTrustVignette />
      |                  ^^^^^^^^^^^^^^^^ This component is created during render
  174 |             </div>
  175 |         );
  176 |     }

   91 |
   92 |     // Dark Vignette for Low Trust
>  93 |     const LowTrustVignette = () => (
      |                              ^^^^^^^
>  94 |         <div
      | ^^^^^^^^^^^^
>  95 |             className="absolute inset-0 z-30 pointer-events-none transition-opacity duration-1000"
      | ^^^^^^^^^^^^
>  96 |             style={{
      | ^^^^^^^^^^^^
>  97 |                 background: 'radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%)',
      | ^^^^^^^^^^^^
>  98 |                 opacity: isLowTrust ? 0.8 : 0
      | ^^^^^^^^^^^^
>  99 |             }}
      | ^^^^^^^^^^^^
> 100 |         />
      | ^^^^^^^^^^^^
> 101 |     );
      | ^^^^^^ The component is created during render here
  102 |
  103 |     if (theme === 'bridge_night') {
  104 |         return (                                                                                                                                                                                                                                react-hooks/static-components
  272:18  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  270 |                 </div>
  271 |
> 272 |                 <LowTrustVignette />
      |                  ^^^^^^^^^^^^^^^^ This component is created during render
  273 |             </div>
  274 |         );
  275 |     }

   91 |
   92 |     // Dark Vignette for Low Trust
>  93 |     const LowTrustVignette = () => (
      |                              ^^^^^^^
>  94 |         <div
      | ^^^^^^^^^^^^
>  95 |             className="absolute inset-0 z-30 pointer-events-none transition-opacity duration-1000"
      | ^^^^^^^^^^^^
>  96 |             style={{
      | ^^^^^^^^^^^^
>  97 |                 background: 'radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%)',
      | ^^^^^^^^^^^^
>  98 |                 opacity: isLowTrust ? 0.8 : 0
      | ^^^^^^^^^^^^
>  99 |             }}
      | ^^^^^^^^^^^^
> 100 |         />
      | ^^^^^^^^^^^^
> 101 |     );
      | ^^^^^^ The component is created during render here
  102 |
  103 |     if (theme === 'bridge_night') {
  104 |         return (                                                                                                                                                                                                                                react-hooks/static-components
  333:18  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  331 |                 {/* Grass/Lawn */}
  332 |                 <div className="absolute bottom-0 inset-x-0 h-[30%] bg-gradient-to-b from-green-800 to-green-900" />
> 333 |                 <GodRays />
      |                  ^^^^^^^ This component is created during render
  334 |                 <LowTrustVignette />
  335 |             </div>
  336 |         );

  82 |
  83 |     // God Rays for High Trust
> 84 |     const GodRays = () => (
     |                     ^^^^^^^
> 85 |         isHighTrust && (
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 86 |             <div className="absolute inset-0 z-20 pointer-events-none opacity-40 mix-blend-overlay">
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 87 |                 <div className="absolute top-[-50%] left-[-20%] w-[150%] h-[150%] bg-[conic-gradient(from_180deg_at_50%_50%,rgba(255,255,255,0)_0deg,rgba(255,255,255,0.8)_20deg,rgba(255,255,255,0)_40deg)] animate-[spin_60s_linear_infinite]" />
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 88 |             </div>
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 89 |         )
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 90 |     );
     | ^^^^^^ The component is created during render here
  91 |
  92 |     // Dark Vignette for Low Trust
  93 |     const LowTrustVignette = () => (  react-hooks/static-components
  334:18  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  332 |                 <div className="absolute bottom-0 inset-x-0 h-[30%] bg-gradient-to-b from-green-800 to-green-900" />
  333 |                 <GodRays />
> 334 |                 <LowTrustVignette />
      |                  ^^^^^^^^^^^^^^^^ This component is created during render
  335 |             </div>
  336 |         );
  337 |     }

   91 |
   92 |     // Dark Vignette for Low Trust
>  93 |     const LowTrustVignette = () => (
      |                              ^^^^^^^
>  94 |         <div
      | ^^^^^^^^^^^^
>  95 |             className="absolute inset-0 z-30 pointer-events-none transition-opacity duration-1000"
      | ^^^^^^^^^^^^
>  96 |             style={{
      | ^^^^^^^^^^^^
>  97 |                 background: 'radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%)',
      | ^^^^^^^^^^^^
>  98 |                 opacity: isLowTrust ? 0.8 : 0
      | ^^^^^^^^^^^^
>  99 |             }}
      | ^^^^^^^^^^^^
> 100 |         />
      | ^^^^^^^^^^^^
> 101 |     );
      | ^^^^^^ The component is created during render here
  102 |
  103 |     if (theme === 'bridge_night') {
  104 |         return (                                                                                                      react-hooks/static-components
  403:18  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  401 |                     </div>
  402 |                 )}
> 403 |                 <GodRays />
      |                  ^^^^^^^ This component is created during render
  404 |                 <LowTrustVignette />
  405 |             </div>
  406 |         );

  82 |
  83 |     // God Rays for High Trust
> 84 |     const GodRays = () => (
     |                     ^^^^^^^
> 85 |         isHighTrust && (
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 86 |             <div className="absolute inset-0 z-20 pointer-events-none opacity-40 mix-blend-overlay">
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 87 |                 <div className="absolute top-[-50%] left-[-20%] w-[150%] h-[150%] bg-[conic-gradient(from_180deg_at_50%_50%,rgba(255,255,255,0)_0deg,rgba(255,255,255,0.8)_20deg,rgba(255,255,255,0)_40deg)] animate-[spin_60s_linear_infinite]" />
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 88 |             </div>
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 89 |         )
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 90 |     );
     | ^^^^^^ The component is created during render here
  91 |
  92 |     // Dark Vignette for Low Trust
  93 |     const LowTrustVignette = () => (                                                                                                            react-hooks/static-components
  404:18  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  402 |                 )}
  403 |                 <GodRays />
> 404 |                 <LowTrustVignette />
      |                  ^^^^^^^^^^^^^^^^ This component is created during render
  405 |             </div>
  406 |         );
  407 |     }

   91 |
   92 |     // Dark Vignette for Low Trust
>  93 |     const LowTrustVignette = () => (
      |                              ^^^^^^^
>  94 |         <div
      | ^^^^^^^^^^^^
>  95 |             className="absolute inset-0 z-30 pointer-events-none transition-opacity duration-1000"
      | ^^^^^^^^^^^^
>  96 |             style={{
      | ^^^^^^^^^^^^
>  97 |                 background: 'radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%)',
      | ^^^^^^^^^^^^
>  98 |                 opacity: isLowTrust ? 0.8 : 0
      | ^^^^^^^^^^^^
>  99 |             }}
      | ^^^^^^^^^^^^
> 100 |         />
      | ^^^^^^^^^^^^
> 101 |     );
      | ^^^^^^ The component is created during render here
  102 |
  103 |     if (theme === 'bridge_night') {
  104 |         return (                                                                                                                                                                                                        react-hooks/static-components
  504:14  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  502 |             <div className="absolute bottom-0 inset-x-0 h-[30%] bg-gradient-to-b from-emerald-800 to-emerald-900" />
  503 |
> 504 |             <GodRays />
      |              ^^^^^^^ This component is created during render
  505 |             <LowTrustVignette />
  506 |         </div>
  507 |     );

  82 |
  83 |     // God Rays for High Trust
> 84 |     const GodRays = () => (
     |                     ^^^^^^^
> 85 |         isHighTrust && (
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 86 |             <div className="absolute inset-0 z-20 pointer-events-none opacity-40 mix-blend-overlay">
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 87 |                 <div className="absolute top-[-50%] left-[-20%] w-[150%] h-[150%] bg-[conic-gradient(from_180deg_at_50%_50%,rgba(255,255,255,0)_0deg,rgba(255,255,255,0.8)_20deg,rgba(255,255,255,0)_40deg)] animate-[spin_60s_linear_infinite]" />
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 88 |             </div>
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 89 |         )
     | ^^^^^^^^^^^^^^^^^^^^^^^^
> 90 |     );
     | ^^^^^^ The component is created during render here
  91 |
  92 |     // Dark Vignette for Low Trust
  93 |     const LowTrustVignette = () => (                                                         react-hooks/static-components
  505:14  error  Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

  503 |
  504 |             <GodRays />
> 505 |             <LowTrustVignette />
      |              ^^^^^^^^^^^^^^^^ This component is created during render
  506 |         </div>
  507 |     );
  508 | };

   91 |
   92 |     // Dark Vignette for Low Trust
>  93 |     const LowTrustVignette = () => (
      |                              ^^^^^^^
>  94 |         <div
      | ^^^^^^^^^^^^
>  95 |             className="absolute inset-0 z-30 pointer-events-none transition-opacity duration-1000"
      | ^^^^^^^^^^^^
>  96 |             style={{
      | ^^^^^^^^^^^^
>  97 |                 background: 'radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%)',
      | ^^^^^^^^^^^^
>  98 |                 opacity: isLowTrust ? 0.8 : 0
      | ^^^^^^^^^^^^
>  99 |             }}
      | ^^^^^^^^^^^^
> 100 |         />
      | ^^^^^^^^^^^^
> 101 |     );
      | ^^^^^^ The component is created during render here
  102 |
  103 |     if (theme === 'bridge_night') {
  104 |         return (                                                                                                                                                                                                                                                  react-hooks/static-components

C:\Users\abira\OneDrive\Desktop\qpr\src\components\SettingsOverlay.jsx
  1:17  error  'useState' is defined but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\abira\OneDrive\Desktop\qpr\src\pages\SignalScoutScreen.jsx
  53:8  warning  React Hook useEffect has a missing dependency: 'audioManager'. Either include it or remove the dependency array. If 'setTimeLeft' needs the current value of 'audioManager', you can also switch to useReducer instead of useState and read 'audioManager' in the reducer  react-hooks/exhaustive-deps

Γ£û 21 problems (16 errors, 5 warnings)

